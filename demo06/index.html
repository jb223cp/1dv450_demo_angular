<!DOCTYPE html>

<!-- data-ng-app (data-* is for HTML5 validation) is a directive to auto-bootstrap an angular application -->
<!-- You can get this scope in an own file e.g. main|app.js -->
 <html data-ng-app="demo6App">
   <head>
    <base href="/demo06">
     <title>AngularJS</title>
       <!-- Latest compiled and minified CSS -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
      
      <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script> 
     <!-- Latest compiled and minified JavaScript -->
     <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
     <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>
     <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular-route.js"></script>
     
     <script src="app.js"></script>
    
   </head>
   <body>
     
     <h1 class="jumbotrone">Hello AngularJS - Demo6!</h1>
     <p class="container">
       Du kan komma åt alla GET metoder endast med API-nyckel men för att kunna skapa, editera och ta bort behöver du logga in
       (I mitt api med hjälp av en API-token)
     </p>
     
     
     <hr />
      <div class="col-md-4" data-ng-controller="TeamController as teamctrl">

         <p class="alert alert-success" data-ng-show="$root.isLoggedIn">Du är inloggad</p>
         <p class="alert alert-danger" data-ng-show="!$root.isLoggedIn">Du är inte inloggad</p>
         <h3>Alla lagen</h3>
         <table class=" table table-condensed table-striped">
           <thead>
             <tr>
               <th>Name</th>
               <th></th>
             </tr>
           </thead>
           <tr data-ng-repeat="team in teamctrl.teams"> 
             <td>{{team.name}}</td> 
             <td><button ng-show="$root.isLoggedIn" type="button" ng-click="teamctrl.removeTeam(team.id)">Remove Team</button></td>
           </tr>

         </table>
       </div>
       
       <hr />
        <div class="col-md-4" data-ng-controller="LoginController as user">
          <div class="panel panel-primary">
            <div class="panel-heading">
              <h3 class="panel-title">Logga in</h3>
            </div>
            <div class="panel-body">
               <form novalidate name="user.form" class="simple-form">
                 E-mail: <br />
                 <input type="email" ng-model="user.email"/><br />
                 Password: <br />
                 <input type="password" ng-model="user.password"/>
                 <button data-ng-click="user.login(user.form)">Logga in</button>
               </form>

               <h4>En lyckad inloggning ger dig en token du kan använda när du gör operationer som kräver inloggning</h4>
               <p>Token: {{$root.token}}</p>
            </div>
         </div>
       
     </div>
       
    
    
      
    
     
   </body>
</html>